{% extends "base.html" %}
{% block content %}
<h2>Dashboard</h2>
<p>Quick actions:</p>
<ul>
  {% for sub in subjects %}
    <li>
      <a href="{{ url_for('topper', subject=sub) }}">Topper in {{ sub }}</a>
      {% if topper_results[sub] %}
        <p><strong>{{ topper_results[sub] }}</strong></p>
      {% endif %}
    </li>
    <li>
      <a href="{{ url_for('class_avg', subject=sub) }}">Class Average in {{ sub }}</a>
      {% if avg_results[sub] %}
        <p><em>{{ avg_results[sub] }}</em></p>
      {% endif %}
    </li>
  {% endfor %}
</ul>

<h3>Students</h3>
<ul>
  {% for s in students %}
    <li>
      <a href="{{ url_for('student_details', roll=s.roll_number) }}">
        {{ s.roll_number }} â€” {{ s.name }}
      </a>
      {% if s.average() is not none %} (Avg: {{ '%.2f'|format(s.average()) }}){% endif %}
    </li>
  {% else %}
    <li>No students yet.</li>
  {% endfor %}
</ul>
{% endblock %}
